# e-mall

## 简介

​	该项目是一个分布式电商项目，采用前后端分离的技术进行开发。完成了项目中商品模块、优惠模块、库存模块、订单模块、用户模块等系列模块的开发。

## 主要完成功能

* **购物车模块**

  ​	采用Redis而不是Cookie作为购物车的实现，使得商品信息的存取更加便捷

* **秒杀模块**

  从多个角度对秒杀模块进行优化，包括

  * 服务单一部署,不要出现自己宕机影响其他服务`抽取成单独的服务`

  * 秒杀链接加密,防止恶意攻击和内部人员提前秒杀`使用了随机码`
  * 库存预热+快速扣减: 秒杀读多写少,将库存预热放在redis中,信号量控制秒杀的请求`定时任务,信号量控制`
  * 动静分离,使用cdn网络,分担集群压力`动静分离`
  * 恶意请求拦截:识别非法攻击请求并进行拦截,在网关层
  * 流量错峰: 将流量分担到更大宽度的时间点: 如验证码,加入购物车等
  * 限流,熔断,降级: 限制次数,限制总量,快速失败降级运行,熔断隔离防止雪崩
  * 队列削峰: 所有秒杀成功的请求,进入队列,慢慢创建订单,扣减库存`使用mq存储消息,再慢慢处理`

* **订单模块**

  使用本地消息表的方式来实现这里的分布式下的订单业务，保证了事务的最终一致性。

* **Session**

  使用SpringSession来解决分布式下Session信息不共享的问题。

* **搜索模块**

  使用ElasticSearch来实现高效的搜索功能。

## 项目架构

```
mall
├── mall-common -- 工具类及通用代码
├── renren-generator -- 人人开源项目的代码生成器
├── mall-auth-server -- 认证中心（社交登录、OAuth2.0）
├── mall-cart -- 购物车服务
├── mall-coupon -- 优惠卷服务
├── mall-gateway -- 统一配置网关
├── mall-order -- 订单服务
├── mall-product -- 商品服务
├── mall-search -- 检索服务
├── mall-seckill -- 秒杀服务
├── mall-third-party -- 第三方服务（对象存储、短信）
├── mall-ware -- 仓储服务
└── mall-member -- 会员服务
```
